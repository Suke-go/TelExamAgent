---
marp: true
theme: default
size: 16:9
paginate: true
math: mathjax
header: "TelExamAgent"
footer: "University of Tsukuba | 2025 | Kosuke Shimizu"
style: |
  section {
    font-family: 'Helvetica Neue', 'Arial', 'Hiragino Kaku Gothic ProN', sans-serif;
    font-size: 26px;
    padding: 40px 60px;
  }
  h1 {
    font-size: 1.8em;
    color: #1a365d;
    border-bottom: 2px solid #2b6cb0;
    padding-bottom: 8px;
  }
  h2 { font-size: 1.4em; color: #2c5282; }
  h3 { font-size: 1.1em; color: #4a5568; }
  strong { color: #c53030; }
  table { font-size: 0.9em; }
  th { background: #2c5282; color: white; }
  .columns { display: flex; gap: 40px; }
  .col { flex: 1; }
---

<!-- _class: lead -->
<!-- _paginate: false -->

# TelExamAgent

**電話音声対話による遠隔医療問診支援システム
— Twilioと大規模言語モデルを用いたアプローチ —**

<br>


---

# 研究背景

## 遠隔医療における問診の課題

- 遠隔診療の普及：コロナ禍以降**急速に拡大**
- 医師の診療時間：対面診療の**1.5倍以上**を要する
- スマートフォン・PC操作：高齢者にとって**ハードルが高い**

## 電話という選択

- 高齢者の**慣れ親しんだインターフェース**
- 特別な機器・アプリが**不要**
- 全国どこからでも**即座にアクセス可能**

---

# 研究目的

## 本研究の目的

**電話による音声対話**を通じて患者から問診情報を収集し、
医師の診療を**支援する**システムを構築する

<br>

## 核となるアプローチ

1. **Twilio**による電話インフラの活用
2. **リアルタイム音声認識 (STT)** と**音声合成 (TTS)**
3. **LLMによる意図推論**で柔軟な対話管理

---

# システムアーキテクチャ

## モジュール構成

| モジュール | 機能 | 技術スタック |
|:---|:---|:---|
| 電話インフラ | 架電・着信の管理 | Twilio Voice API |
| Speech-to-Text | 音声からテキストへ変換 | Deepgram STT |
| Intent Inference | 発話意図の推論 | OpenAI API |
| Dialogue Manager | 対話状態の管理 | Python/FastAPI |
| Text-to-Speech | 応答音声の生成 | ElevenLabs TTS |

---

# 技術詳細①：電話音声インターフェース

## Twilioによる架電システム

```
[システム] ---(Twilio API)--→ [患者の電話]
                                   ↓
                              [音声通話開始]
                                   ↓
[STT] ← [患者の発話] ←─────────────┘
   ↓
[LLM意図推論] → [応答生成] → [TTS] → [患者へ音声出力]
```

- **アウトバウンド（架電）**: 予約時間に自動で患者へ電話
- **インバウンド（着信）**: 患者からの問い合わせにも対応可能

---

# 技術詳細②：音声認識

## リアルタイムストリーミング処理

| 項目 | 実装 |
|:---|:---|
| 音声取得 | Twilio Media Streams |
| 認識エンジン | Google Cloud Speech-to-Text |
| 言語設定 | 日本語（ja-JP） |
| リアルタイム性 | ストリーミング認識で低遅延 |

<br>

**医療ドメイン対応**: カスタム語彙による専門用語認識精度の向上

---

# 技術詳細③：意図推論

## LLMによる柔軟な意図理解

患者の発話から**問診項目への回答**を自動抽出

### 入力例
```
「えーと、昨日の夜から頭が痛くて、
 熱も測ったら38度くらいあって...」
```

### 推論結果
```json
{
  "symptoms": ["頭痛", "発熱"],
  "onset": "昨夜",
  "temperature": 38.0,
  "confidence": 0.92
}
```

---

# 技術詳細④：対話管理

## 問診フローの構造化

問診を**階層的なトピック**として管理

```
問診セッション
├── 主訴の確認
│   ├── 症状の種類
│   ├── 発症時期
│   └── 経過
├── 既往歴
├── 現在の服薬
└── アレルギー歴
```

- 各トピックの**完了状態を追跡**
- 未回答項目への**自然な再質問**

---

# 技術詳細⑤：対話戦略

## 適応的な質問生成

患者の回答に応じて**次の質問を動的に決定**

| 状況 | システムの対応 |
|:---|:---|
| 明確な回答 | 次のトピックへ進む |
| 曖昧な回答 | 確認質問を生成 |
| 複数情報を含む回答 | 各項目を個別に確認 |
| 話題の逸脱 | 穏やかに本題へ誘導 |

<br>

**目標**: 患者に寄り添いながら、効率的に情報を収集

---

# インタラクション設計

## 電話対話の特性への適応

### 音声のみのインタラクション

| 配慮点 | 対応 |
|:---|:---|
| 視覚情報なし | 選択肢を口頭で明示 |
| 聞き逃し対策 | 重要情報の復唱確認 |
| 高齢者対応 | ゆっくり・明瞭な音声合成 |
| 割り込み検知 | 患者の発話を優先 |

---

# 実装例：問診セッション (1/2)

## セッション開始（システムからの架電）

**システム**:
> こんにちは。◯◯クリニックの問診システムです。
> 山田太郎様のお電話でよろしいでしょうか？

**患者**:
> はい、そうです

**システム**:
> 山田様、本日の診察に先立ちまして、
> いくつかお伺いしたいことがございます。
> 今日はどのような症状でいらっしゃいますか？

---

# 実装例：問診セッション (2/2)

## 症状の詳細確認

**患者**:
> 2日前から喉が痛くて、咳も出るようになりました

**システム**:
> 喉の痛みと咳が2日前からとのことですね。
> 熱は測られましたか？

**患者**:
> はい、今朝37度8分でした

---

# UI構成（暫定：Web版）

## 開発・デモ用Webインターフェース

現在、開発およびデモンストレーション用途として
**Webブラウザベースの対話UI**を併設

| 用途 | 説明 |
|:---|:---|
| 動作確認 | 電話回線なしでの機能テスト |
| デモ展示 | プレゼンテーション・展示会向け |
| デバッグ | 対話ログのリアルタイム確認 |

<br>

**本番運用では電話（Twilio）インターフェースを想定**

---

# 期待される効果

## 医療現場への貢献

| 対象 | 期待効果 |
|:---|:---|
| **患者** | 慣れた電話で負担なく問診完了 |
| **高齢者** | スマホ操作不要でアクセス容易 |
| **医師** | 事前情報収集による診療時間短縮 |
| **医療機関** | 遠隔診療の効率化 |

<br>

**社会的意義**: 医療アクセスの地理的・デジタル格差の解消に寄与

---

# 今後の展望

## 研究の発展方向

1. **臨床実証**: 実際の医療機関でのパイロット運用
2. **架電スケジューリング**: 予約連携による自動架電
3. **電子カルテ連携**: 問診結果の自動記録

<br>

## 長期ビジョン

電話音声対話を活用した**包括的な遠隔医療プラットフォーム**の実現

---

# 結論

## TelExamAgentの特徴

1. **電話インターフェース**: 誰でもアクセス可能な音声対話
2. **柔軟な理解**: LLMによる文脈を考慮した意図推論
3. **効率的収集**: 構造化された問診フローの自動管理

## 貢献

- **HCI観点**: 電話音声対話の医療応用における設計指針の提示
- **技術観点**: Twilio-STT-LLM統合アーキテクチャの実装
- **社会観点**: デジタルデバイド解消への貢献

---

<!-- _class: lead -->
<!-- _paginate: false -->

# ご清聴ありがとうございました

<br>

**質疑応答**
